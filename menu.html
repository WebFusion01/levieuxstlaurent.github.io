<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Menu</title>
	<link rel="stylesheet" href="./menu assets/common css.css">

	<script src="./menu assets/main.js" defer></script>
	<script src="https://kit.fontawesome.com/eba7749dfa.js" crossorigin="anonymous"></script>
</head>

<body>

	<!---->
	<nav class="navbar" data-navbar="">
		<ul class="navbar-list" id="NavBar">
			<li class="navbar-item">
				<a href="./index.html#Main" class="navbar-link hover-underline">
					<div class="separator"></div>
					<span class="span">Retourner / Return</span>
				</a>
			</li>
		</ul>
	</nav>
	<!---->

	<div id="computer-menu">
		<!-- Previous Button For Desktop-->
		<button id="prev-btn" class="desktop-btn">
			<i class="fas fa-arrow-circle-left"></i>
		</button>



		<!-- Book -->
		<div id="book" class="book">
			<!-- Paper 1 -->
			<div id="p1" class="paper">
				<div class="front">
					<div id="f1" class="front-content">
						<img src="./menu assets/pictures/0.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b1" class="back-content">
						<img src="./menu assets/pictures/1.jfif">
					</div>
				</div>
			</div>
			<!-- Paper 2 -->
			<div id="p2" class="paper">
				<div class="front">
					<div id="f2" class="front-content">
						<img src="./menu assets/pictures/2.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b2" class="back-content">
						<img src="./menu assets/pictures/3.jfif">
					</div>
				</div>
			</div>
			<!-- Paper 3 -->
			<div id="p3" class="paper">
				<div class="front">
					<div id="f3" class="front-content">
						<img src="./menu assets/pictures/4.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b3" class="back-content">
						<img src="./menu assets/pictures/5.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 4 -->
			<div id="p4" class="paper">
				<div class="front">
					<div id="f4" class="front-content">
						<img src="./menu assets/pictures/6.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b4" class="back-content">
						<img src="./menu assets/pictures/7.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 5 -->
			<div id="p5" class="paper">
				<div class="front">
					<div id="f5" class="front-content">
						<img src="./menu assets/pictures/8.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b5" class="back-content">
						<img src="./menu assets/pictures/9.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 6 -->
			<div id="p6" class="paper">
				<div class="front">
					<div id="f6" class="front-content">
						<img src="./menu assets/pictures/10.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b6" class="back-content">
						<img src="./menu assets/pictures/11.jfif">
					</div>
				</div>
			</div>

			<!-- Paper 7 -->
			<div id="p7" class="paper">
				<div class="front">
					<div id="f7" class="front-content">
						<img src="./menu assets/pictures/12.jfif">
					</div>
				</div>
				<div class="back">
					<div id="b7" class="back-content">
						<img src="./menu assets/pictures/13.jfif">
					</div>
				</div>
			</div>

		</div>

		<!-- Next Button For Desktop -->
		<button id="next-btn" class="desktop-btn">
			<i class="fas fa-arrow-circle-right"></i>
		</button>
	</div>

	<div id="smartphone-menu">

		<button id="prev-btn-mobile" class="mobile-btn">
			<i class="fas fa-arrow-circle-left"></i>
		</button>

        <div class="wrapper">
			<input type="radio" name="slide" id="one" checked>
			<input type="radio" name="slide" id="two">
			<input type="radio" name="slide" id="three">
			<input type="radio" name="slide" id="four">
			<input type="radio" name="slide" id="five">
			<input type="radio" name="slide" id="six">
			<input type="radio" name="slide" id="seven">
			<input type="radio" name="slide" id="eight">
			<input type="radio" name="slide" id="nine">
			<input type="radio" name="slide" id="ten">
			<input type="radio" name="slide" id="eleven">
			<input type="radio" name="slide" id="twelve">
			<input type="radio" name="slide" id="thirteen">
			<input type="radio" name="slide" id="fourteen">
	
			<!--Images are loaded here.-->
			<div class="img img-1">
				<img src="./menu assets/pictures/0.jfif" alt="">
			</div>
			<div class="img img-2">
				<img src="./menu assets/pictures/1.jfif" alt="">
			</div>
			<div class="img img-3">
				<img src="./menu assets/pictures/2.jfif" alt="">
			</div>
			<div class="img img-4">
				<img src="./menu assets/pictures/3.jfif" alt="">
			</div>
			<div class="img img-5">
				<img src="./menu assets/pictures/4.jfif" alt="">
			</div>
			<div class="img img-6">
				<img src="./menu assets/pictures/5.jfif" alt="">
			</div>
			<div class="img img-7">
				<img src="./menu assets/pictures/6.jfif" alt="">
			</div>
			<div class="img img-8">
				<img src="./menu assets/pictures/7.jfif" alt="">
			</div>
			<div class="img img-9">
				<img src="./menu assets/pictures/8.jfif" alt="">
			</div>
			<div class="img img-10">
				<img src="./menu assets/pictures/9.jfif" alt="">
			</div>
			<div class="img img-11">
				<img src="./menu assets/pictures/10.jfif" alt="">
			</div>
			<div class="img img-12">
				<img src="./menu assets/pictures/11.jfif" alt="">
			</div>
			<div class="img img-13">
				<img src="./menu assets/pictures/12.jfif" alt="">
			</div>
			<div class="img img-14">
				<img src="./menu assets/pictures/13.jfif" alt="">
			</div>
	
	
			<div class="sliders">
				<label for="one" class="one"></label>
				<label for="two" class="two"></label>
				<label for="three" class="three"></label>
				<label for="four" class="four"></label>
				<label for="five" class="five"></label>
				<label for="six" class="six"></label>
				<label for="seven" class="seven"></label>
				<label for="eight" class="eight"></label>
				<label for="nine" class="nine"></label>
				<label for="ten" class="ten"></label>
				<label for="eleven" class="eleven"></label>
				<label for="twelve" class="twelve"></label>
				<label for="thirteen" class="thirteen"></label>
				<label for="fourteen" class="fourteen"></label>
			</div>
		</div>	

		<button id="next-btn-mobile" class="mobile-btn">
			<i class="fas fa-arrow-circle-right"></i>
		</button>
    </div>

	<script>
		// Function to detect device type and show/hide menu accordingly
		function showMenuByDevice() {
			var isComputer = window.innerWidth >= window.innerHeight;
			if (isComputer) {
				document.getElementById('smartphone-menu').style.display = 'none';
				document.getElementById('computer-menu').style.display = 'block';
			} else {
				document.getElementById('smartphone-menu').style.display = 'block';
				document.getElementById('computer-menu').style.display = 'none';
			}
		}

		// Call the function on page load
		window.onload = function () {
			showMenuByDevice();
		};


		// Business Logic for mobile
		const prevBtnMobile = document.getElementById("prev-btn-mobile");
		const nextBtnMobile = document.getElementById("next-btn-mobile");
		const mobilePapers = document.querySelectorAll(".img");
		const maxLocationMobile = mobilePapers.length - 1;
		let currentLocationMobile = 0;

		// initially update the butoon.
		prevBtnMobile.style.visibility = 'hidden';

		function updateButtonVisibility() {
			// Show prev button if not on first page
			prevBtnMobile.style.visibility = currentLocationMobile > 0 ? "visible" : "hidden";
			// Show next button if not on last page
			nextBtnMobile.style.visibility = currentLocationMobile < maxLocationMobile ? "visible" : "hidden";
		}




		// Function to handle touch events for smartphone menu
		document.addEventListener("DOMContentLoaded", function () {
			let startX;

			document.addEventListener("touchstart", function (event) {
				startX = event.touches[0].clientX;
			});

			document.addEventListener("touchend", function (event) {
				const endX = event.changedTouches[0].clientX;
				const deltaX = startX - endX;
				const currentSlide = document.querySelector('input[name="slide"]:checked');
				let nextSlide;

				if (Math.abs(deltaX) > 50) { // Adjust this threshold as needed
					if (deltaX > 0) {
						nextSlide = currentSlide.nextElementSibling || currentSlide.parentElement.firstElementChild;
						currentLocationMobile++;
						updateButtonVisibility();
					} else {
						nextSlide = currentSlide.previousElementSibling || currentSlide.parentElement.lastElementChild;
						currentLocationMobile--;
						updateButtonVisibility();
					}

					if (nextSlide) {
						nextSlide.checked = true;
					}
				}
			});

			if (nextBtnMobile) {
				nextBtnMobile.addEventListener("click", function () {
					const currentSlide = document.querySelector('input[name="slide"]:checked');
					const nextSlide = currentSlide.nextElementSibling || currentSlide.parentElement.firstElementChild;

					if (nextSlide) {
						nextSlide.checked = true;
					}

					currentLocationMobile++;
					updateButtonVisibility();
				});
			}

			if (prevBtnMobile) {
				prevBtnMobile.addEventListener("click", function () {
					const currentSlide = document.querySelector('input[name="slide"]:checked');
					const prevSlide = currentSlide.previousElementSibling || currentSlide.parentElement.lastElementChild;

					if (prevSlide) {
						prevSlide.checked = true;
					}

					currentLocationMobile--;
					updateButtonVisibility();
				});
			}
		});
	</script>

</body>

</html>